<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Планирование отгрузок</title>

  <style>
    :root { --bg:#f5f7fb; --card:#fff; --text:#1f2a37; --muted:#6b7280; --line:#e5e7eb; }

    body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:var(--bg); color:var(--text); }
    .wrap{ max-width:1100px; margin:18px auto; padding:0 14px; }
    .card{ background:var(--card); border:1px solid var(--line); border-radius:14px; box-shadow:0 8px 24px rgba(17,24,39,.06); }

    .top{ display:flex; gap:16px; align-items:center; justify-content:space-between; padding:16px 18px; }
    .stamp{ display:flex; flex-direction:column; gap:4px; }
    .stamp .t{ font-size:12px; color:var(--muted); }
    .stamp .n{ font-size:44px; font-weight:800; line-height:1; color:#2f6da5; }
    .stamp .d{ font-size:18px; font-weight:700; text-transform:lowercase; }

    .title{ text-align:center; flex:1; padding:0 10px; }
    .title h1{ margin:0; font-size:16px; font-weight:700; }
    .title p{ margin:6px 0 0; font-size:12px; color:var(--muted); }

    .legend{ display:flex; gap:14px; justify-content:center; padding:10px 18px 16px; }
    .pill{ display:flex; align-items:center; gap:8px; padding:8px 10px; border:1px solid var(--line); border-radius:999px; font-size:12px; color:var(--muted); }
    .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
    .g{ background:#33a852; }
    .y{ background:#f4c542; }
    .r{ background:#e74c3c; }

    .table-scroll{ overflow-x:auto; -webkit-overflow-scrolling: touch; }
    table{ width:100%; border-collapse:separate; border-spacing:0; min-width:860px; }
    thead th{ font-size:12px; color:var(--muted); font-weight:700; padding:10px 12px; border-top:1px solid var(--line); border-bottom:1px solid var(--line); background:#fbfcfe; text-align:left; white-space:nowrap; }
    tbody td{ padding:10px 12px; border-bottom:1px solid var(--line); vertical-align:middle; }
    tbody tr.group{ background:#eef5ff; }
    .name{ display:flex; align-items:center; gap:10px; }
    .caret{ width:18px; height:18px; border:1px solid var(--line); border-radius:6px; display:flex; align-items:center; justify-content:center; cursor:pointer; background:#fff; }
    .indent{ padding-left:28px; color:#4b5563; }
    .num{ text-align:right; font-variant-numeric: tabular-nums; }
    .neg{ color:#c0392b; font-weight:700; }
    .pos{ color:#1f7a3a; font-weight:700; }
    .lights{ display:flex; gap:8px; }
    .light{ width:11px; height:11px; border-radius:50%; border:1px solid rgba(0,0,0,.08); }

    @media (max-width:768px){
      .wrap{ margin:10px auto; padding:0 10px; }
      .top{ flex-direction:column; align-items:stretch; gap:10px; }
      .title{ text-align:left; }
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="top">
      <div class="stamp">
        <div class="t">По состоянию на 9:00</div>
        <div class="n">16</div>
        <div class="d">пятница</div>
      </div>
      <div class="title">
        <h1>Планирование рабочих заявок на отгрузку нефтепродуктов ж/д транспортом</h1>
        <p>В период с 16 января по 20 января 2026 г. включительно</p>
      </div>
    </div>

    <div class="legend">
      <div class="pill"><span class="dot g"></span>Обеспечено заявками</div>
      <div class="pill"><span class="dot y"></span>Обеспечено заявками 50%</div>
      <div class="pill"><span class="dot r"></span>Нет заявок</div>
    </div>

    <div class="table-scroll">
      <table>
        <thead>
          <tr>
            <th>Номенклатура</th>
            <th class="num">Исполнение</th>
            <th class="num">График на 5 дней</th>
            <th class="num">Обеспечение</th>
            <th>Пт–Вт</th>
            <th class="num">Отклонение</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
    </div>
  </div>
</div>

<script>
const data = [
  {
    id:"diesel",
    name:"Дизельное топливо",
    exec:348, plan:31500, cover:22300,
    days:["g","g","g","y","r"],
    delta:-9200,
    children:[
      { name:"ДТ-Л-К5 (Тингутa)", exec:0, plan:0, cover:3300, days:["g","g","g","g","r"], delta:0 },
      { name:"ДТ-Э-К5", exec:0, plan:0, cover:19000, days:["g","g","g","y","r"], delta:0 }
    ]
  },
  {
    id:"gasoline",
    name:"Бензины",
    exec:-109, plan:8700, cover:7600,
    days:["g","g","g","g","r"],
    delta:-1100,
    children:[
      { name:"АИ-92 (К4-5600т; К5-2000т)", exec:0, plan:0, cover:7600, days:["g","g","g","g","r"], delta:0 }
    ]
  },
  { id:"bgs", name:"БГС/БСФ", exec:117, plan:4100, cover:12300, days:["g","g","g","g","g"], delta:8200, children:[] },
  { id:"rt", name:"РТ/ТС", exec:-553, plan:8400, cover:16000, days:["g","g","g","g","g"], delta:7600, children:[] },
  { id:"mazut", name:"Мазут", exec:0, plan:0, cover:2405, days:["g","g","g","g","g"], delta:2405, children:[] }
];

const tbody=document.getElementById("rows");
const fmt=n=>(n??0).toLocaleString("ru-RU");
const light=s=>`<span class="light ${s}"></span>`;

data.forEach(g=>{
  tbody.innerHTML+=`
  <tr class="group">
    <td>${g.name}</td>
    <td class="num">${fmt(g.exec)}</td>
    <td class="num">${fmt(g.plan)}</td>
    <td class="num">${fmt(g.cover)}</td>
    <td><div class="lights">${g.days.map(light).join("")}</div></td>
    <td class="num ${g.delta<0?"neg":"pos"}">${fmt(g.delta)}</td>
  </tr>`;

  (g.children||[]).forEach(k=>{
    tbody.innerHTML+=`
    <tr>
      <td class="indent">↳ ${k.name}</td>
      <td class="num">${fmt(k.exec)}</td>
      <td class="num">${fmt(k.plan)}</td>
      <td class="num">${fmt(k.cover)}</td>
      <td><div class="lights">${k.days.map(light).join("")}</div></td>
      <td class="num">${fmt(k.delta)}</td>
    </tr>`;
  });
});
</script>
</body>
</html>
